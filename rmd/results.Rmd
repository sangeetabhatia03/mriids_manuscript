# Results

## Cleaning ProMED/HealthMap data feeds
The raw data from ProMED is shown in Figure \@ref(fig:hmraw)

```{r hmraw, echo = FALSE, fig.cap = "Raw data from ProMED", fig.align = "center"}
knitr::include_graphics("figures/promed_raw.png")
```
The data cleaning consists of the following steps : extracting the
total case counts as a sum of different case categories, merging
duplicate alerts, removing data that made the cumulative case counts 
inconsistent and finally, fill in the missing data using
interpolation. Results at each step pre-processing workflow for Guinea
are shown in Figure \@ref(fig:hmclean).


```{r hmclean, echo = FALSE, fig.cap = "Data clean-up steps", fig.align = "center"}
knitr::include_graphics("figures/promed_Guinea.png")
```




## Comparison of incidence trends from different sources
In addition to the data made available by ProMED and HealthMap, we
also used data collated by WHO during this outbreak to validate the
model, made available by [@garske20160308]. Throughout the rest of this document, 
we refer to this data set as WHO data in the interest of brevity.

We compare incidence trends derived from ProMED and HealthMap as well
as data from WHO. The results are shown in Figure \@ref(fig:incidcompare)

```{r incidcompare, echo = FALSE, fig.cap = "Comparison of daily incidence trends derived from ProMED, HealthMap and WHO data. The three time series exhibit a high degree of correlation.", fig.align = "center"}
knitr::include_graphics("figures/who_promed_hm_incid.png")
```

Figure \@ref(fig:rcompare) compares the reproduction number estimated 
from the respective incidence series. The instantaneous reproduction
number was estimated in R using the package EpiEstim [@cori2013new]. 
As expected, the estimated reproduction numbers are highly correlated.


```{r rcompare, echo = FALSE, fig.cap = "Comparison of daily incidence trends derived from ProMED, HealthMap and WHO data. The three time series exhibit a high degree of correlation.", fig.align = "center"}
knitr::include_graphics("figures/who_promed_hm_r.png")
```


## Short term projections

Figures \@(fig:guinea49, fig:liberia49, fig:sl49) show the weekly forecasts
for 4 weeks from the point of projection. Reproduction number is
estimated for each 7 week window upto the point of projection. The 
reproduction number in the window immediately preceding the point of
projection is used for forecasting and is assumed to be constant
during the forecasting window. Each figure shows
projections done at two points - one in the increasing and one in the
declining phase of the epidemic. 


```{r guinea49, echo = FALSE, fig.cap = "Weekly incidence curve and 4 weeks predicted incidence in Guinea at two different points in the outbreak. The reproduction number was estimated for each 7 week interval upto the point at which projection is done.", fig.align = "center"}
knitr::include_graphics("figures/Guinea_98_245_49_28.png")
```


```{r liberia49, echo = FALSE, fig.cap = "Weekly incidence curve and 4 weeks predicted incidence in Liberia at two different points in the outbreak. The reproduction number was estimated for each 7 week interval upto the point at which projection is done.", fig.align = "center"}
knitr::include_graphics("figures/Liberia_98_245_49_28.png")
```


```{r sl49, echo = FALSE, fig.cap = "Weekly incidence curve and 4 weeks predicted incidence in Sierra Leone at two different points in the outbreak. The reproduction number was estimated for each 7 week interval upto the point at which projection is done.", fig.align = "center"}
knitr::include_graphics("figures/SierraLeone_98_245_49_28.png")
```


We experimented with different window lengths for estimating R. 
Figures \@(fig:guinea7, fig:liberia7, fig:sl7) show the forecasts for 
the time points for a time window of 1 week. 



```{r guinea7, echo = FALSE, fig.cap = "Weekly projections for Guinea when the reproduction number is estimated for each 1 week interval upto the point of projection. ", fig.align = "center"}
knitr::include_graphics("figures/Guinea_98_245_7_28.png")
```


```{r liberia7, echo = FALSE, fig.cap = "Weekly projections for Liberia  when the reproduction number is estimated for each 1 week interval upto the point of projection.", fig.align = "center"}
knitr::include_graphics("figures/Liberia_98_245_7_28.png")
```


```{r sl7, echo = FALSE, fig.cap = "Weekly projections for Sierra Leone when the reproduction number is estimated for each 1 week interval upto the point of projection.", fig.align = "center"}
knitr::include_graphics("figures/SierraLeone_98_245_7_28.png")
```

## Evaluation of the model performance

Figure \@ref(fig:guineaassess) shows the three metrics (bias,
sharpness and relative mean absolute error) discussed in 
Section \@ref{assess} for the 4 week projections in Guinea at various
points during the epidemic using a 5-week window to estimate
reproduction number. Each metric was first computed using the daily
observed and predicted series and then averaged for each week of
projections.

Across all three metrics, there is a strong trend of decreased model
performance as the forecast horizon increases. The bias in forecasts
at week 1 is closer to 0 at every time point. Similarly the forecasts
at week 1 are more sharp (sharpness close to 0) than at week 4.




```{r guineaassess, echo = FALSE, fig.cap = "Metrics for evaluating model performance.", fig.align = "center"}
knitr::include_graphics("figures/Guinea_weekly_metrics_35_28_2.png")
```
